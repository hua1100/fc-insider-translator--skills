# è§£å†³"æå– 0 è¡Œæ•°æ®"é—®é¢˜

## ğŸ¯ ä½ é‡åˆ°çš„é—®é¢˜

```
è§£æè¡¨æ ¼æ•°æ®...
âœ“ å…±æå– 0 è¡Œæ•°æ®
```

è¿™è¯´æ˜ï¼š
- âœ… MarkItDown æˆåŠŸè½¬æ¢äº† Word â†’ Markdown
- âŒ ä½†æ˜¯ Markdown è§£æé€»è¾‘æœªèƒ½è¯†åˆ«è¡¨æ ¼æ•°æ®

---

## ğŸ” è¯Šæ–­æ­¥éª¤

### æ­¥éª¤ 1ï¼šä½¿ç”¨è¯Šæ–­è„šæœ¬

è¿è¡Œè¯Šæ–­è„šæœ¬æŸ¥çœ‹ Markdown æ ¼å¼ï¼š

```bash
python3 debug_markdown_parsing.py /Users/hua/mdè…³æœ¬/table_markitdown.md
```

è¿™ä¸ªè„šæœ¬ä¼šå‘Šè¯‰ä½ ï¼š
1. æ˜¯å¦æ‰¾åˆ°è¡¨æ ¼è¡Œ
2. è¡¨æ ¼æ ¼å¼æ˜¯å¦æ ‡å‡†
3. ä¸ºä»€ä¹ˆæ²¡æœ‰æå–åˆ°æ•°æ®
4. å…·ä½“çš„æ”¹è¿›å»ºè®®

### æ­¥éª¤ 2ï¼šæ‰‹åŠ¨æŸ¥çœ‹ Markdown

```bash
# æŸ¥çœ‹å‰ 30 è¡Œ
head -30 /Users/hua/mdè…³æœ¬/table_markitdown.md

# æŸ¥çœ‹æ‰€æœ‰è¡¨æ ¼è¡Œ
grep "^|" /Users/hua/mdè…³æœ¬/table_markitdown.md | head -20
```

---

## ğŸ¤” å…³äº"èŒè´£æ··æ·†"çš„é—®é¢˜

ä½ æåˆ°ï¼š

> "ä¸ºä½•ä¼šè·‘å‡ºæå–æ•°æ®ï¼Œè¿™ä¸æ˜¯ generate_translation_mapping.py çš„äº‹å—"

**ä½ è¯´å¾—å¯¹ï¼** è®©æˆ‘æ¾„æ¸…ä¸€ä¸‹ï¼š

### å½“å‰è„šæœ¬èŒè´£

| è„šæœ¬ | å½“å‰èŒè´£ | æ˜¯å¦åˆç†ï¼Ÿ |
|------|---------|-----------|
| `extract_table_markitdown.py` | 1. Word â†’ Markdown<br>2. è§£æè¡¨æ ¼æ•°æ® | âš ï¸ ç¬¬ 2 ç‚¹æœ‰äº‰è®® |
| `generate_translation_mapping.py` | 1. è§£æ Markdown è¡¨æ ¼<br>2. ç”Ÿæˆå¯¹ç…§è¡¨ | âœ… åˆç† |

### ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ

**åŸå›  1ï¼šå³æ—¶éªŒè¯**
```bash
python3 extract_table_markitdown.py input.docx output.md
# ç«‹å³çœ‹åˆ°ï¼šâœ“ å…±æå– 123 è¡Œæ•°æ®
# è€Œä¸æ˜¯ç­‰åˆ°ä¸‹ä¸€æ­¥æ‰å‘ç°é—®é¢˜
```

**åŸå›  2ï¼šå¯é€‰ JSON è¾“å‡º**
```bash
python3 extract_table_markitdown.py input.docx output.md --output-json data.json
# ç›´æ¥å¾—åˆ°ç»“æ„åŒ–æ•°æ®ï¼Œå¯ä»¥è·³è¿‡ generate_translation_mapping.py
```

**ä½†æ˜¯ï¼**
- è¿™ç¡®å®é€ æˆäº†èŒè´£æ··æ·†
- è€Œä¸”å¦‚æœè§£æå¤±è´¥ï¼ˆ0 è¡Œï¼‰ï¼Œåè€Œè®©ç”¨æˆ·å›°æƒ‘

---

## âœ… æ”¹è¿›æ–¹æ¡ˆ

### æ–¹æ¡ˆ Aï¼šç®€åŒ–ç‰ˆæœ¬ï¼ˆæ¨èï¼‰

æˆ‘åˆ›å»ºäº† **`extract_table_markitdown_simple.py`**ï¼š

```bash
python3 extract_table_markitdown_simple.py input.docx output.md
```

**èŒè´£**ï¼š
- âœ… åªè´Ÿè´£ Word â†’ Markdown è½¬æ¢
- âœ… ä¸è§£æè¡¨æ ¼æ•°æ®
- âœ… åªæ˜¾ç¤ºç»Ÿè®¡ï¼ˆåŒ…å«å¤šå°‘è¡Œè¡¨æ ¼å†…å®¹ï¼‰

**ä¼˜åŠ¿**ï¼š
- èŒè´£å•ä¸€ï¼Œæ˜“äºç†è§£
- ä¸ä¼šäº§ç”Ÿ"æå– 0 è¡Œ"çš„å›°æƒ‘
- å¤±è´¥æ—¶æ›´å®¹æ˜“å®šä½é—®é¢˜

### æ–¹æ¡ˆ Bï¼šä¿ç•™åŸç‰ˆæœ¬

ç»§ç»­ä½¿ç”¨ **`extract_table_markitdown.py`**ï¼š

**ä¼˜åŠ¿**ï¼š
- å³æ—¶éªŒè¯ï¼ˆç«‹å³çŸ¥é“æå–äº†å¤šå°‘è¡Œï¼‰
- å¯ä»¥è¾“å‡º JSON

**åŠ£åŠ¿**ï¼š
- èŒè´£ä¸å¤Ÿå•ä¸€
- å¦‚æœè§£æå¤±è´¥ï¼Œä¼šäº§ç”Ÿå›°æƒ‘

---

## ğŸ› ï¸ æ¨èçš„å·¥ä½œæµç¨‹

### ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬ï¼ˆæ¨èï¼‰

```bash
# æ­¥éª¤ 1ï¼šè½¬æ¢ Word â†’ Markdownï¼ˆçº¯è½¬æ¢ï¼Œä¸è§£æï¼‰
python3 extract_table_markitdown_simple.py input.docx table.md

# æ­¥éª¤ 2ï¼šæ‰‹åŠ¨æŸ¥çœ‹ Markdownï¼ˆç¡®è®¤æ ¼å¼æ­£ç¡®ï¼‰
head -30 table.md

# æ­¥éª¤ 3ï¼šè§£æ Markdown å¹¶ç”Ÿæˆå¯¹ç…§è¡¨
python3 generate_translation_mapping.py \
  --markdown table.md \
  --new-translations new_trans.json \
  --output translations.json

# æ­¥éª¤ 4ï¼šåº”ç”¨è¿½è¸ªä¿®è®¢
python3 update_fc_insider_simple.py \
  --input input.docx \
  --translations translations.json \
  --output output.docx
```

**ä¼˜åŠ¿**ï¼š
- èŒè´£æ¸…æ™°
- æ¯ä¸€æ­¥éƒ½å¯ä»¥éªŒè¯
- é—®é¢˜å®¹æ˜“å®šä½

### ä½¿ç”¨åŸç‰ˆæœ¬ï¼ˆå¦‚æœä½ å–œæ¬¢å³æ—¶åé¦ˆï¼‰

```bash
# æ­¥éª¤ 1ï¼šè½¬æ¢å¹¶è§£æ
python3 extract_table_markitdown.py input.docx table.md

# å¦‚æœæ˜¾ç¤º"æå– 0 è¡Œ"ï¼Œè¿è¡Œè¯Šæ–­ï¼š
python3 debug_markdown_parsing.py table.md

# æ­¥éª¤ 2-4ï¼šåŒä¸Š
```

---

## ğŸ”§ ä¿®å¤"æå– 0 è¡Œ"é—®é¢˜

### å¯èƒ½çš„åŸå› 

1. **Markdown æ ¼å¼ä¸æ ‡å‡†**
   - MarkItDown ç”Ÿæˆçš„æ ¼å¼ä¸é¢„æœŸä¸ç¬¦
   - è§£æé€»è¾‘çš„æ­£åˆ™è¡¨è¾¾å¼ä¸åŒ¹é…

2. **è¡¨æ ¼æ²¡æœ‰åˆ†éš”ç¬¦**
   - æ ‡å‡† Markdown è¡¨æ ¼éœ€è¦åˆ†éš”ç¬¦è¡Œï¼š`|---|---|---|`
   - MarkItDown å¯èƒ½ç”Ÿæˆäº†ä¸åŒçš„æ ¼å¼

3. **è¡¨æ ¼ä¸ºç©º**
   - Word æ–‡æ¡£çš„è¡¨æ ¼æœ¬èº«æ²¡æœ‰æ•°æ®

### è¯Šæ–­æ–¹æ³•

```bash
# è¿è¡Œè¯Šæ–­è„šæœ¬
python3 debug_markdown_parsing.py /Users/hua/mdè…³æœ¬/table_markitdown.md
```

è¯Šæ–­è„šæœ¬ä¼šå‘Šè¯‰ä½ ï¼š
- âœ“ æ˜¯å¦æ‰¾åˆ°è¡¨æ ¼è¡Œ
- âœ“ è¡¨æ ¼æ ¼å¼æ˜¯ä»€ä¹ˆæ ·
- âœ“ ä¸ºä»€ä¹ˆè§£æå¤±è´¥
- âœ“ å¦‚ä½•ä¿®å¤

### æ‰‹åŠ¨æ£€æŸ¥

```bash
# æŸ¥çœ‹ Markdown å†…å®¹
cat /Users/hua/mdè…³æœ¬/table_markitdown.md

# æŸ¥çœ‹è¡¨æ ¼è¡Œ
grep "^|" /Users/hua/mdè…³æœ¬/table_markitdown.md
```

**é¢„æœŸçœ‹åˆ°**ï¼š
```markdown
| Segment ID | Status | Source | Target |
|------------|--------|--------|--------|
| 7bb0408a-1 | Final | Hello | ä½ å¥½ |
```

**å¦‚æœçœ‹åˆ°ä¸åŒçš„æ ¼å¼**ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šè°ƒæ•´è§£æé€»è¾‘ã€‚

---

## ğŸ“‹ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### 1. è¿è¡Œè¯Šæ–­ï¼ˆæœ€é‡è¦ï¼‰

```bash
python3 debug_markdown_parsing.py /Users/hua/mdè…³æœ¬/table_markitdown.md
```

è¿™ä¼šæ˜¾ç¤ºï¼š
- è¡¨æ ¼æ ¼å¼æ˜¯ä»€ä¹ˆæ ·
- ä¸ºä»€ä¹ˆæå– 0 è¡Œ
- å¦‚ä½•ä¿®å¤

### 2. é€‰æ‹©ä½ å–œæ¬¢çš„æ–¹æ¡ˆ

**ç®€åŒ–ç‰ˆæœ¬ï¼ˆèŒè´£å•ä¸€ï¼‰**ï¼š
```bash
python3 extract_table_markitdown_simple.py input.docx output.md
```

**åŸç‰ˆæœ¬ï¼ˆå³æ—¶åé¦ˆï¼‰**ï¼š
```bash
python3 extract_table_markitdown.py input.docx output.md
```

### 3. å¦‚æœé—®é¢˜ä»å­˜åœ¨

è¯·æä¾›ï¼š
1. è¯Šæ–­è„šæœ¬çš„è¾“å‡º
2. Markdown æ–‡ä»¶çš„å‰ 30 è¡Œ
3. Word æ–‡æ¡£çš„è¡¨æ ¼ç»“æ„ï¼ˆæˆªå›¾æˆ–æè¿°ï¼‰

æˆ‘ä¼šæ ¹æ®å®é™…æƒ…å†µä¿®å¤è§£æé€»è¾‘ã€‚

---

## ğŸ’¡ æ€»ç»“

### å…³äº"èŒè´£æ··æ·†"

âœ… **ä½ çš„è§‚å¯Ÿæ˜¯å¯¹çš„**ï¼š
- `extract_table_markitdown.py` ç¡®å®åšäº†ä¸¤ä»¶äº‹
- è¿™å¯èƒ½é€ æˆå›°æƒ‘

âœ… **è§£å†³æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨ `extract_table_markitdown_simple.py`ï¼ˆçº¯è½¬æ¢ï¼‰
- è®© `generate_translation_mapping.py` è´Ÿè´£è§£æ

### å…³äº"æå– 0 è¡Œ"

âŒ **é—®é¢˜**ï¼š
- Markdown è§£æé€»è¾‘å¯èƒ½ä¸ MarkItDown çš„è¾“å‡ºæ ¼å¼ä¸åŒ¹é…

âœ… **è§£å†³æ–¹æ¡ˆ**ï¼š
- è¿è¡Œ `debug_markdown_parsing.py` è¯Šæ–­
- æ ¹æ®å®é™…æ ¼å¼è°ƒæ•´è§£æé€»è¾‘

---

## ğŸš€ ç«‹å³è¡ŒåŠ¨

```bash
# 1. è¯Šæ–­é—®é¢˜
python3 debug_markdown_parsing.py /Users/hua/mdè…³æœ¬/table_markitdown.md

# 2. æŸ¥çœ‹ Markdown æ ¼å¼
head -30 /Users/hua/mdè…³æœ¬/table_markitdown.md

# 3. å°†è¾“å‡ºå‘ç»™æˆ‘ï¼Œæˆ‘å¸®ä½ ä¿®å¤è§£æé€»è¾‘
```

è¯·è¿è¡Œè¿™äº›å‘½ä»¤å¹¶åˆ†äº«è¾“å‡ºï¼Œæˆ‘ä¼šç«‹å³å¸®ä½ è§£å†³ï¼ğŸ¯
